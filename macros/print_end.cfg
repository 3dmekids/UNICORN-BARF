# ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„
# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘              UNICORN-BARF PRINT_END SYSTEM          â•‘
# â•‘     Safe Z-lift â€¢ Rear Park â€¢ Cooldown â€¢ FX â€¢ TAP    â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„ğŸ¦„


# ============================================================
# PRINT_END â€” Final professional shutdown for Unicorn-Barf
# ============================================================
[gcode_macro PRINT_END]
description: Safe finish + cooldown + LEDs + chime
gcode:
    M117 Finishing Print...
    LED_IDLE

    # ---- Z-lift to avoid dragging nozzle ----
    G91
    G1 Z16 F6000
    G90

    # ---- Rear-middle park position ----
    G1 X175 Y350 F9000

    # ---- Drop to a safe cooling height ----
    G1 Z50 F3000

    # ---- Heaters off ----
    M104 S0
    M140 S0

    # ---- Fast cooling if fan available ----
    M106 S255
    G4 P8000
    M106 S0

    # ---- Reset extruder ----
    G92 E0

    # ---- Signature Unicorn-Barf chime ----
    CHIME_SUCCESS

    M117 Idle.
